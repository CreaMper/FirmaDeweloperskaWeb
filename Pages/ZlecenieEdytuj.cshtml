@page
@model FirmaDeweloperskaWeb.Pages.ZlecenieEdytujModel
@{
    ViewData["Tittle"] = "Przypis zlecenie do zespolu";
}


<div style="width:50%;margin:auto;margin-top:40px;">
    <form class="needs-validation" novalidate asp-page-handler="Edit" method="POST">
        <div>
            @foreach (Zlecenium zlec in Model.zlec)
            {
            <label for="validationCustom01" class="form-label">Numer</label>
            <input type="text" class="form-control" id="formNumer" name="formNumer" placeholder="@zlec.ZlecId" disabled>
            }
        </div>
        <div>
            <label class="form-label">Priorytet: </label> <br />
            <select class="form-select form-select-lg" aria-label="Default select example" name="formPrio" id="formPrio">
                @foreach (Priorytety prio in Model.wybrany_priorytet)
                {
                    <option selected value="@prio.PrioId">@prio.PrioNazwa</option>
                }
                @foreach (Priorytety prio in Model.priorytety)
                {
                    <option value="@prio.PrioId">@prio.PrioNazwa</option>
                }
            </select>
        </div>
        <div>
            <label class="form-label">Zespół: </label> </br>
            <select class="form-select form-select-lg" aria-label="Default select example" name="formZespol" id="formZespol">
                @foreach (Zespoly zespol in Model.wybrany_zespol)
                {
                    <option selected value="@zespol.ZespId">@zespol.ZespNazwa</option>
                }
                @foreach (Zespoly zespol in Model.zespoly)
                {
                    <option value="@zespol.ZespId">@zespol.ZespNazwa</option>
                }
            </select>
        </div>
        <div>
            @foreach (Zlecenium zlec in Model.zlec)
            {
            <label for="validationCustom03" class="form-label">Rozpoczęto:</label>
            <input class="form-control" id="formRozpoczeto" name="formRozpoczecie" value="@zlec.ZlecRozpoczecie.">
            <div class="invalid-feedback">
                Niepoprawna data
            </div>
            }
        </div>
        <div class="form-check">
            @foreach (Zlecenium zlec in Model.zlec)
            {
                <input class="form-check-input" type="checkbox" value="@zlec.ZlecZakonczono" name="formZakonczono">
                <label class="form-check-label" for="flexCheckDefault">
                    Ukończono?
                </label>
            }
            </div>
        <div class="form-group">
            @foreach (Zlecenium zlec in Model.zlec)
            {
                <label for="exampleFormControlTextarea1">Opis :</label>
                <textarea class="form-control" id="formOpis" name="formOpis" rows="3">@zlec.ZlecOpis</textarea>
            }
        </div>
        <div>
            </br>
            <centeR><button class="btn btn-primary" type="submit">Edytuj zlecenie</button></centeR>
        </div>
    </form>
</div>

<Script>
    (function () {
        'use strict'

        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.querySelectorAll('.needs-validation')

        // Loop over them and prevent submission
        Array.prototype.slice.call(forms)
            .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }

                    form.classList.add('was-validated')

                }, false)
            })
    })()
</Script>